<div class="container justify-content-center">
  <h1>Gebruikers beheren</h1>
  <div class="card">
    <div class="card-body">
      <h5 class="card-title">Makers</h5>
      <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#makerModal"
              (click)="onCLickToevoegenMaker()">Voeg toe
      </button>
      <div class="card-text">
        <table class="table table-hover">
          <thead>
          <tr>
            <th scope="col">MakerID</th>
            <th scope="col">GebruikerID</th>
            <th scope="col">TypeID</th>
            <th scope="col">Nickname</th>
            <th scope="col">Geboortedatum</th>
            <th scope="col">Ervaring</th>
            <th scope="col">Contact info</th>
            <th></th>
          </tr>
          </thead>
          <tbody>
          <tr *ngFor="let maker of (makers | async)">
            <td>{{maker.makerID}}</td>
            <td>{{maker.typeID}}</td>
            <td>{{maker.userID}}</td>
            <td>{{maker.nickname}}</td>
            <td>{{maker.birthDate}}</td>
            <td>{{maker.experience}}</td>
            <td>{{maker.contactInfo}}</td>
            <td>
              <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#makerModal"
                      (click)="onClickBewerkMaker(maker)">Bewerk
              </button>
              <button type="button" class="btn btn-danger"
                      (click)="onCLickVerwijderMaker(maker.makerID)">Verwijder
              </button>
            </td>
          </tr>
          </tbody>
        </table>
      </div>
    </div>
    <div class="card">
      <div class="card-body">
        <h5 class="card-title">Bedrijven</h5>
        <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#bedrijfModal"
                (click)="onCLickToevoegenBedrijf()">Voeg toe
        </button>
        <div class="card-text">
          <table class="table table-hover">
            <thead>
            <tr>
              <th scope="col">CompanyID</th>
              <th scope="col">GebruikerID</th>
              <th scope="col">Naam</th>
              <th scope="col">Locatie</th>
              <th></th>
            </tr>
            </thead>
            <tbody>
            <tr *ngFor="let bedrijf of (bedrijven | async)">
              <td>{{bedrijf.companyID}}</td>
              <td>{{bedrijf.userID}}</td>
              <td>{{bedrijf.name}}</td>
              <td>{{bedrijf.location}}</td>
              <td>
                <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#bedrijfModal"
                        (click)="onClickBewerkBedrijf(bedrijf)">Bewerk
                </button>
                <button type="button" class="btn btn-danger"
                        (click)="onCLickVerwijderBedrijf(bedrijf.companyID)">Verwijder
                </button>
              </td>
            </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>

    <div class="modal fade" id="makerModal" tabindex="-1" role="dialog" aria-labelledby="makerModalLabel"
         aria-hidden="true">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="makerModalLabel">{{maker?.nickname}}</h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <form (ngSubmit)="onSubmitOpslaanMaker()" [formGroup]="makerForm">
            <div class="modal-body">
              <div *ngIf="errorBool" class="text-danger">{{errorMessage}}</div>
              <div class="form-group">
                <label for="inputGroupSelectMakerType" class="col-form-label">Type:</label>
                <select class="custom-select" id="inputGroupSelectMakerType" formControlName="makerTypeID">
                  <option selected="selected">Kies...</option>
                  <option *ngFor="let makerType of (makerTypes | async)"
                          value="{{makerType.makerTypeID}}">{{makerType.name}}</option>
                </select>
              </div>
              <div class="form-group">
                <label for="inputGroupSelectMaker" class="col-form-label">Gebruiker:</label>
                <select class="custom-select" id="inputGroupSelectMaker" formControlName="userID">
                  <option selected="selected">Kies...</option>
                  <option *ngFor="let gebruiker of (gebruikers | async)"
                          value="{{gebruiker.userID}}">{{gebruiker.firstName}} {{gebruiker.lastName}}</option>
                </select>
              </div>
              <div class="form-group">
                <label for="nickname" class="col-form-label">Nickname:</label>
                <input type="text" class="form-control" id="nickname" value="{{maker?.nickname}}"
                       formControlName="nickname">
              </div>
              <div class="form-group">
                <label for="birthDate" class="col-form-label">Geboortedatum:</label>
                <input type="date" class="form-control" id="birthDate" value="{{maker?.birthDate}}"
                       formControlName="birthDate">
              </div>
              <div class="form-group">
                <label for="biography" class="col-form-label">Biografie:</label>
                <input type="text" class="form-control" id="biography" value="{{maker?.biography}}"
                       formControlName="biography">
              </div>
              <div class="form-group">
                <label for="linkedIn" class="col-form-label">LinkedIn:</label>
                <input type="text" class="form-control" id="linkedIn" value="{{maker?.linkedIn}}"
                       formControlName="linkedIn">
              </div>
              <div class="form-group">
                <label for="experience" class="col-form-label">Ervaring:</label>
                <input type="text" class="form-control" id="experience" value="{{maker?.experience}}"
                       formControlName="experience">
              </div>
              <div class="form-group">
                <label for="contactInfo" class="col-form-label">Contact info:</label>
                <input type="text" class="form-control" id="contactInfo" value="{{maker?.contactInfo}}"
                       formControlName="contactInfo">
              </div>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-secondary" data-dismiss="modal">Sluiten</button>
              <button type="submit" class="btn btn-primary" [disabled]="!makerForm.valid || submitted">Opslaan
              </button>
            </div>
          </form>
        </div>
      </div>
    </div>

    <div class="modal fade" id="bedrijfModal" tabindex="-1" role="dialog" aria-labelledby="bedrijfModalLabel"
         aria-hidden="true">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="bedrijfModalLabel">{{bedrijf?.name}}</h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <form (ngSubmit)="onSubmitOpslaanBedrijf()" [formGroup]="bedrijfForm">
            <div class="modal-body">
              <div class="form-group">
                <label for="name" class="col-form-label">Naam:</label>
                <input type="text" class="form-control" id="name" value="{{bedrijf?.name}}"
                       formControlName="name">
              </div>
              <div class="form-group">
                <label for="location" class="col-form-label">Locatie:</label>
                <input type="text" class="form-control" id="location" value="{{bedrijf?.location}}"
                       formControlName="location">
              </div>
              <div class="form-group">
                <label for="biographyCompany" class="col-form-label">Biografie:</label>
                <input type="text" class="form-control" id="biographyCompany" value="{{bedrijf?.biography}}"
                       formControlName="biographyCompany">
              </div>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-secondary" data-dismiss="modal">Sluiten</button>
              <button type="submit" class="btn btn-primary" [disabled]="!bedrijfForm.valid || submitted">Opslaan
              </button>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>
